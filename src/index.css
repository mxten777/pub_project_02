@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply scroll-smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
  
  body {
    @apply font-sans bg-neutral-25 text-neutral-800 leading-relaxed;
  }
  
  * {
    @apply focus:outline-none;
  }
  
  *:focus-visible {
    @apply ring-4 ring-primary-200 ring-offset-2 ring-offset-white;
  }

  /* 프리미엄 스크롤바 */
  ::-webkit-scrollbar {
    @apply w-2 h-2;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-neutral-100 rounded-full;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-neutral-300 rounded-full hover:bg-neutral-400;
    transition: background-color 0.2s;
  }
  
  /* 프리미엄 선택 효과 */
  ::selection {
    @apply bg-primary-100 text-primary-800;
  }

  /* 고대비 모드 */
  .high-contrast {
    @apply bg-black text-white;
  }
  
  .high-contrast .card-senior,
  .high-contrast .card-premium {
    @apply bg-neutral-900 border-white border-2;
  }
  
  .high-contrast .btn-primary {
    @apply bg-yellow-400 text-black border-2 border-black;
  }
  
  .high-contrast .btn-secondary {
    @apply bg-white text-black border-2 border-black;
  }

  /* 키보드 네비게이션 강화 */
  .keyboard-user *:focus-visible {
    @apply ring-4 ring-yellow-400 ring-offset-2 ring-offset-white outline-none;
  }

  /* 터치 디바이스 최적화 */
  @media (pointer: coarse) {
    .btn-senior {
      @apply min-h-[4.5rem] min-w-[12rem] text-senior-lg;
      touch-action: manipulation;
    }
    
    .card-senior,
    .card-premium {
      @apply p-4;
    }
    
    /* 터치 친화적 간격 */
    .touch-target {
      @apply min-h-[44px] min-w-[44px];
    }
  }
  
  /* 작은 화면 최적화 */
  @media (max-width: 640px) {
    .container {
      @apply px-4;
    }
    
    .grid-responsive {
      @apply grid-cols-1;
    }
    
    .flex-responsive {
      @apply flex-col space-y-4 space-x-0;
    }
  }
  
  /* 모션 감소 선호도 지원 */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
  
  /* 고대비 선호도 지원 */
  @media (prefers-contrast: high) {
    .btn-senior {
      @apply border-2 border-current;
    }
    
    .card-senior,
    .card-premium {
      @apply border-2 border-neutral-400;
    }
  }
  
  /* 다크 모드 기본 지원 */
  @media (prefers-color-scheme: dark) {
    body {
      @apply bg-neutral-900 text-neutral-100;
    }
    
    .card-senior,
    .card-premium {
      @apply bg-neutral-800 border-neutral-700;
    }
  }
}

@layer components {
  /* 프리미엄 버튼 컴포넌트 */
  .btn-senior {
    @apply px-8 py-6 text-senior-lg font-semibold rounded-senior shadow-premium transition-all duration-300 min-h-[5.5rem] min-w-[14rem] flex items-center justify-center gap-3 relative overflow-hidden;
    @apply hover:shadow-premium-lg hover:-translate-y-0.5 active:translate-y-0 active:shadow-premium;
    @apply focus-visible:ring-4 focus-visible:ring-primary-200 focus-visible:ring-offset-2;
  }
  
  .btn-primary {
    @apply btn-senior bg-primary-600 text-white hover:bg-primary-700 active:bg-primary-800;
    @apply shadow-glow hover:shadow-glow-lg;
  }
  
  .btn-secondary {
    @apply btn-senior bg-neutral-50 text-neutral-700 hover:bg-neutral-100 active:bg-neutral-200;
    @apply border border-neutral-200 hover:border-neutral-300;
  }
  
  .btn-success {
    @apply btn-senior bg-green-600 text-white hover:bg-green-700 active:bg-green-800;
  }
  
  .btn-danger {
    @apply btn-senior bg-red-600 text-white hover:bg-red-700 active:bg-red-800;
  }
  
  .btn-accent {
    @apply btn-senior bg-orange-500 text-white hover:bg-orange-600 active:bg-orange-700;
  }
  
  /* 프리미엄 카드 컴포넌트 */
  .card-senior {
    @apply bg-white rounded-senior shadow-premium-lg p-8 border border-neutral-200;
    @apply transition-all duration-300 hover:shadow-premium-xl hover:-translate-y-1;
  }
  
  .card-premium {
    @apply bg-white rounded-premium-lg shadow-premium-xl p-10 border border-neutral-100;
    @apply transition-all duration-300 hover:shadow-senior-xl hover:-translate-y-1;
    @apply backdrop-blur-sm;
  }
  
  /* 프리미엄 타이포그래피 */
  .text-senior-title {
    @apply font-display text-senior-3xl font-bold text-neutral-900 mb-6;
    @apply tracking-tight;
  }
  
  .text-senior-subtitle {
    @apply font-display text-senior-xl font-semibold text-neutral-700 mb-4;
    @apply tracking-tight;
  }
  
  .text-display {
    @apply font-display font-bold tracking-tight text-neutral-900;
  }
  
  /* 프리미엄 상태 표시기 */
  .loading-spinner {
    @apply animate-spin rounded-full border-4 border-primary-200 border-t-primary-600;
    @apply w-8 h-8;
  }
  
  .pulse-ring {
    @apply relative;
  }
  
  .pulse-ring::before {
    content: '';
    @apply absolute inset-0 rounded-full border-4 border-primary-400;
    animation: pulseRing 2s ease-out infinite;
  }
  
  @keyframes pulseRing {
    0% {
      transform: scale(1);
      opacity: 0.6;
    }
    50% {
      opacity: 0.3;
    }
    100% {
      transform: scale(1.6);
      opacity: 0;
    }
  }
  
  .voice-wave {
    @apply relative;
    animation: voiceWave 2.5s ease-in-out infinite;
  }
  
  .voice-wave::before,
  .voice-wave::after {
    content: '';
    @apply absolute top-1/2 left-1/2 border-2 border-primary-300 rounded-full pointer-events-none;
    transform: translate(-50%, -50%);
  }
  
  .voice-wave::before {
    @apply w-[120%] h-[120%];
    animation: voiceWaveRing 2.5s infinite;
  }
  
  .voice-wave::after {
    @apply w-[140%] h-[140%];
    animation: voiceWaveRing 2.5s infinite 0.5s;
  }
  
  @keyframes voiceWave {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }
  
  @keyframes voiceWaveRing {
    0% {
      transform: translate(-50%, -50%) scale(0.8);
      opacity: 0.8;
    }
    100% {
      transform: translate(-50%, -50%) scale(1.4);
      opacity: 0;
    }
  }
  
  /* 프리미엄 입력 필드 */
  .input-premium {
    @apply w-full px-6 py-4 text-senior-base rounded-senior border-2 border-neutral-200;
    @apply focus:border-primary-500 focus:ring-4 focus:ring-primary-100;
    @apply transition-all duration-200 bg-white;
    @apply placeholder:text-neutral-400;
  }
  
  /* 프리미엄 배지 */
  .badge-premium {
    @apply inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium;
    @apply bg-primary-50 text-primary-700 border border-primary-200;
  }
  
  /* 프리미엄 구분선 */
  .divider-premium {
    @apply w-full h-px bg-gradient-to-r from-transparent via-neutral-200 to-transparent;
  }
  
  /* 접근성 설정 클래스들 */
  .text-size-normal {
    --font-size-xs: 0.875rem;
    --font-size-sm: 1rem;
    --font-size-base: 1.125rem;
    --font-size-lg: 1.25rem;
    --font-size-xl: 1.5rem;
    --font-size-2xl: 1.875rem;
    --font-size-3xl: 2.25rem;
    --font-size-4xl: 3rem;
  }
  
  .text-size-large {
    --font-size-xs: 1rem;
    --font-size-sm: 1.125rem;
    --font-size-base: 1.25rem;
    --font-size-lg: 1.5rem;
    --font-size-xl: 1.75rem;
    --font-size-2xl: 2.125rem;
    --font-size-3xl: 2.5rem;
    --font-size-4xl: 3.5rem;
  }
  
  .text-size-extra-large {
    --font-size-xs: 1.125rem;
    --font-size-sm: 1.25rem;
    --font-size-base: 1.5rem;
    --font-size-lg: 1.75rem;
    --font-size-xl: 2rem;
    --font-size-2xl: 2.5rem;
    --font-size-3xl: 3rem;
    --font-size-4xl: 4rem;
  }
  
  /* 다크 모드 지원 */
  .dark {
    @apply bg-neutral-900 text-neutral-100;
  }
  
  .dark .card-senior,
  .dark .card-premium {
    @apply bg-neutral-800 border-neutral-700;
  }
  
  .dark .btn-secondary {
    @apply bg-neutral-700 text-neutral-200 hover:bg-neutral-600;
  }
}
